<!DOCTYPE html>
<html lang="es" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code source</title>
    <link rel="icon" href="../img/Logos/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../css/from.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" />
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-QC5MEYBDJE');
    </script>
</head>

<body>
    <main>
        <a href="./desarrollo.html" class="back-arrow">Volver</a>
        <section>
            <div class="contact-section">
                <div class="contact-info">
                    <div><i class="fas fa-map-marker-alt"></i>Venezuela, Caracas.</div>
                    <div><i class="fas fa-envelope"></i>code.source.technology@gmail.com</div>
                    <div><i class="fas fa-phone"></i>+58 4242 645 080</div>
                    <div><i class="fas fa-clock"></i>8:00 AM to 3:00 PM</div>
                </div>
                <div class="contact-form">
                    <h2>Nuestro <span style="color: #03fd10;">contacto.</span></h2>
                    <form class="contact" action="#" id="form" method="post" onsubmit="return handleFormSubmit()">
                        <input type="text" name="name" class="text-box" placeholder="Nombre y Apellido" required>
                        <input type="email" name="email" class="text-box" placeholder="Correo" required>
                        <textarea name="message" rows="5" placeholder="Mensaje" required></textarea>
                        <input type="submit" name="submit" class="send-btn" value="Enviar">
                    </form>
                    <a href="mailto:code.source.technology@gmail.com" id="trucazo">mail</a>
                </div>
            </div>
        </section>
    </main>
    <!--funcion del formulario de contacto-->
    <script>
        const $form = document.querySelector('#form');
        const $buttonMailto = document.querySelector('#trucazo');

        $form.addEventListener('submit', handleSubmit);

        function handleSubmit(event) {
            event.preventDefault();

            // Obtener los datos del formulario
            const form = new FormData($form);
            const name = form.get('name');
            const email = form.get('email');
            const message = form.get('message');

            // Enviar el formulario por correo
            const mailtoLink = `mailto:code.source.technology@gmail.com?subject=${encodeURIComponent(`Nombre: ${name} - Correo: ${email}`)}&body=${encodeURIComponent(`Mensaje: ${message}`)}`;
                $buttonMailto.setAttribute('href', mailtoLink);
                $buttonMailto.click();

            // Redirigir a la página principal después de un breve retraso (por ejemplo, 1 segundo)
            function handleFormSubmit() {
                // Redirigir a la página de inicio después de un breve retraso
                setTimeout(function() {
                    window.location.href = "../index.html";
                }, 500);
            
            // Devolver false para evitar que el formulario se envíe de forma predeterminada
            return false;
            }
        }
    </script>
</body>

</html>